<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VIP Signal UI</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@800&display=swap" rel="stylesheet">
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyB1_XCbC777hKwxlilhMeq5Hpty1dvDT1I",
  authDomain: "giper-8fd92.firebaseapp.com",
  databaseURL: "https://giper-8fd92-default-rtdb.firebaseio.com",
  projectId: "giper-8fd92",
  storageBucket: "giper-8fd92.firebasestorage.app",
  messagingSenderId: "485740337398",
  appId: "1:485740337398:web:ab901fd4f28219ea5834d7"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.sendSignalToFirebase = async function(signal) {
  try {
    await set(ref(db, 'trade/'), { trade: signal });
  } catch (e) {
    console.error("Firebase yozish xatosi:", e);
  }
}
</script>

<style>
* {
  font-family:'Orbitron', sans-serif !important;
}
html, body {
  margin:0;
  background:#000;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  color:#fff;
  user-select:none;
}
.box {
  width:150%;
  max-width:380px;
  height:180px;
  border-radius:15px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:40px;
  border:2px solid #0f0;
  box-shadow:0 0 15px #0f0,0 0 35px #0f0;
  color:#0f0;
  transition:all 0.3s ease;
}
.btn {
  margin-top:70px;
  padding:15px 40px;
  font-size:22px;
  border-radius:12px;
  border:2px solid #fff;
  background:#fff;
  color:black;
  box-shadow:0 0 20px #fff,0 0 40px #fff;
  cursor:pointer;
  transition:0.2s;
}
.btn:active { transform:scale(0.95); }

.select-btn {
  margin-top:35px;
  padding:12px 40px;
  font-size:20px;
  border-radius:10px;
  background:transparent;
  color:#0ff;
  border:2px solid #0ff;
  box-shadow:0 0 15px #0ff,0 0 25px #0ff inset;
  cursor:pointer;
  transition:0.3s;
}
.select-btn:hover {
  background:#0ff;
  color:#000;
  box-shadow:0 0 20px #0ff,0 0 40px #0ff;
}
.select-list {
  display:none;
  flex-wrap:wrap;
  justify-content:center;
  margin-top:20px;
  gap:10px;
}
.option {
  padding:10px 20px;
  font-size:18px;
  border-radius:10px;
  border:2px solid #FFD700;
  color:#FFD700;
  background:transparent;
  box-shadow:0 0 15px #FFD700,0 0 30px #FFD700 inset;
  cursor:pointer;
  transition:0.3s;
}
.option:hover {
  background:#FFD700;
  color:#000;
  box-shadow:0 0 20px #FFD700,0 0 40px #FFD700;
}
.quote-list .option {
  border-color:#FF66FF;
  color:#FF66FF;
  box-shadow:0 0 15px #FF66FF,0 0 30px #FF66FF inset;
}
.quote-list .option:hover {
  background:#FF66FF;
  color:#000;
  box-shadow:0 0 25px #FF66FF,0 0 45px #FF66FF;
}
</style>
</head>
<body>

<div class="box" id="vipBox">VIP</div>
<button class="btn" id="signalBtn">SIGNAL</button>

<button class="select-btn" id="timeToggle">TIME</button>
<div class="select-list" id="timeList">
  <div class="option">M1</div>
  <div class="option">M5</div>
  <div class="option">M15</div>
  <div class="option">M30</div>
  <div class="option">H1</div>
  <div class="option">H4</div>
  <div class="option">D1</div>
</div>

<button class="select-btn" id="quotesToggle">QUOTES</button>
<div class="select-list quote-list" id="quoteList">
  <div class="option">AUDNZD</div>
  <div class="option">AUDCAD</div>
  <div class="option">AUDCHF</div>
  <div class="option">AUDJPY</div>
  <div class="option">EURGBP</div>
  <div class="option">EURAUD</div>
  <div class="option">XAUUSD</div>
  <div class="option">EURUSD</div>
</div>

<script>
const box = document.getElementById("vipBox");
const btn = document.getElementById("signalBtn");
const timeToggle = document.getElementById("timeToggle");
const timeList = document.getElementById("timeList");
const quotesToggle = document.getElementById("quotesToggle");
const quoteList = document.getElementById("quoteList");

btn.onclick = () => {
  box.style.transition = "0s";
  let t = 0;
  let timer = setInterval(() => {
    t++;
    const r = Math.random() < 0.5 ? "BUY" : "SELL";
    if (r === "BUY") {
      box.style.color = "#4597FF";
      box.style.borderColor = "#4597FF";
      box.style.boxShadow = "0 0 10px #4597FF,0 0 40px #4597FF";
    } else {
      box.style.color = "#FF5858";
      box.style.borderColor = "#FF5858";
      box.style.boxShadow = "0 0 10px #FF5858,0 0 40px #FF5858";
    }
    box.innerText = r;
    if (t === 10) {
      clearInterval(timer);
      sendSignalToFirebase(r.toLowerCase());
    }
  }, 100);
};

timeToggle.onclick = () => {
  timeList.style.display = timeList.style.display === "flex" ? "none" : "flex";
  quoteList.style.display = "none";
};

quotesToggle.onclick = () => {
  quoteList.style.display = quoteList.style.display === "flex" ? "none" : "flex";
  timeList.style.display = "none";
};

document.querySelectorAll("#timeList .option").forEach(opt => {
  opt.onclick = () => {
    timeToggle.innerText = opt.innerText;
    timeList.style.display = "none";
  };
});

document.querySelectorAll("#quoteList .option").forEach(opt => {
  opt.onclick = () => {
    quotesToggle.innerText = opt.innerText;
    quoteList.style.display = "none";
  };
});
</script>

</body>
</html>
